!function t(e,o,n){function i(s,a){if(!o[s]){if(!e[s]){var p="function"==typeof require&&require;if(!a&&p)return p(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){var o=e[s][1][t];return i(o||t)},u,u.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,o){(function(e){"use strict";e.Constructor=t("./lib/Class/Constructor.js"),e.JSGameEngine=t("./lib/Class/JSGameEngine"),e.Math=t("./lib/Util/Math.js"),e.Component=t("./lib/Class/Component.js"),e.Time=t("./lib/Util/Time.js"),e.Physics2D=t("./lib/Components/Physics2D.js"),e.Vector2=t("./lib/Components/Vector2.js"),e.Transform=t("./lib/Components/Transform.js"),e.Shadow=t("./lib/Components/Shadow.js"),e.Input=t("./lib/Components/Input.js"),e.GameObject=t("./lib/Class/GameObject.js"),e.Color=t("./lib/Components/Color.js"),e.Text=t("./lib/GameObjects/Text.js"),e.Sprite=t("./lib/GameObjects/Sprite.js"),e.Particle=t("./lib/GameObjects/Particle.js"),e.ParticleSystem=t("./lib/GameObjects/ParticleSystem.js"),e.AudioClip=t("./lib/GameObjects/AudioClip.js"),e.Background=t("./lib/GameObjects/Background.js")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/Class/Component.js":2,"./lib/Class/Constructor.js":3,"./lib/Class/GameObject.js":4,"./lib/Class/JSGameEngine":5,"./lib/Components/Color.js":6,"./lib/Components/Input.js":7,"./lib/Components/Physics2D.js":8,"./lib/Components/Shadow.js":9,"./lib/Components/Transform.js":10,"./lib/Components/Vector2.js":11,"./lib/GameObjects/AudioClip.js":12,"./lib/GameObjects/Background.js":13,"./lib/GameObjects/Particle.js":14,"./lib/GameObjects/ParticleSystem.js":15,"./lib/GameObjects/Sprite.js":16,"./lib/GameObjects/Text.js":17,"./lib/Util/Math.js":18,"./lib/Util/Time.js":19}],2:[function(t,e,o){"use strict";function n(t){this.parent=void 0,this.__construct(this,t),this.onUpdate=function(){},this.onFixedUpdate=function(){},this.__update=function(t){this.onUpdate(t)},this.__fixedUpdate=function(t){this.onFixedUpdate(t)}}n.prototype.toString=function(){return JSON.stringify(this)},n.prototype=new Constructor,n.prototype.constructor=n,e.exports=n},{}],3:[function(t,e,o){"use strict";function n(t){t&&(delete this.createUUID,delete this.addComponent)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.prototype.__extend=function(t,e,o){var n=new t(o||void 0);Object.keys(n).forEach(function(t){e[t]=n[t]})},n.prototype.__construct=function(t,e){if(void 0!==e){if("object"!==(void 0===e?"undefined":i(e)))throw TypeError("Options must be an Object literal");Object.keys(e).forEach(function(o){t[o]=e[o]})}},n.prototype.createUUID=function(t){function e(){return(65536*(1+Math.random()*(new Date).getTime())|0).toString(16).substring(1)}var t=t||"-";return e()+e()+t+e()+t+e()+t+e()+t+e()+e()+e()},n.prototype.addComponent=function(t,e){var e=e||this.createUUID();if(t.parent=this,this instanceof JSGameEngine){if(!(t instanceof GameObject))throw TypeError("Object not an instance of GameObject");if(void 0!==this.components[e])throw Error("GameObject already has component with id "+e);this.components[e]=t,t.__init&&t.__init(this)}else{if(!(t instanceof Component))throw TypeError("Object not an instance of Component");if(void 0!==this.components[e])throw Error("GameObject already has component with id "+e);this.components[e]=t,t.__init&&t.__init(this.parent)}return this.components[e]},e.exports=n},{}],4:[function(t,e,o){"use strict";function n(t){this.components=new Object,this.enabled=!0,this.width=0,this.height=0,this.visible=!0,this.onUpdate=function(){},this.onFixedUpdate=function(){},this.__update=function(t){this.onUpdate(t)},this.__fixedUpdate=function(t){this.onFixedUpdate(t)},this.__init=function(){},this.parent=void 0,this.transform=new Transform({parent:this}),this.__construct(this,t)}n.prototype=new Constructor,n.prototype.constructor=n,n.prototype.toString=function(){return JSON.stringify(this)},n.prototype.getComponent=function(t){for(var e in this)if(this[e]instanceof t)return this[e];for(var e in this.components)if(this.components[e]instanceof t)return this.components[e];return null},e.exports=n},{}],5:[function(t,e,o){"use strict";function n(t){var e=this;this.components={},this.canvas=document.createElement("canvas"),this.width=0,this.height=0,this.time=new Time,this.__construct(this,t),this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.width||window.innerWidth,this.canvas.height=this.height||window.innerHeight,this.width=this.canvas.width,this.height=this.canvas.height,Time=this.time,this.update=function(t){requestAnimationFrame(e.update),e.time.update(t);var o=e.canvas,n=e.ctx;n.clearRect(0,0,o.width,o.height);e.time;for(var i in e.components){var r=e.components[i];for(var s in r.components)r.components[s].parent||(r.components[s].parent=r);if(r.enabled&&r.visible){n.save();var a=r.transform.rotation,p=r.transform.position;n.translate(p.x+r.width/2,p.y+r.height/2),n.rotate(a*Math.PI/180),n.translate(Math.invert(p.x+r.width/2),Math.invert(p.y+r.height/2));for(var c in r.components)r.components[c].__update(e);r.__update(e),n.restore()}}},this.fixedUpdate=function(t){e.time.fixedUpdate(t);var o=e.time;for(var n in e.components){var i=e.components[n];for(var r in i.components)i.components[r].parent||(i.components[r].parent=i);if(i.enabled){for(var s in i.components)i.components[s].__update(e);i.__fixedUpdate(e)}}setTimeout(function(){e.fixedUpdate(performance.now)},1e3*o.framerateToTime(50))},requestAnimationFrame(this.update),this.fixedUpdate(performance.now)}n.prototype=new Constructor,n.prototype.constructor=n,e.exports=n},{}],6:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(Component,this,t),this.alpha=1,this.r=0,this.g=0,this.b=0,this.clamp=function(){return new n({r:Math.round(Math.clamp(e.r,0,255)),g:Math.round(Math.clamp(e.g,0,255)),b:Math.round(Math.clamp(e.b,0,255)),alpha:Math.clamp(e.alpha,0,1)})},this.__construct(this,t),this.toString=function(){var t=new n(this).clamp();return"rgba("+t.r+","+t.g+","+t.b+","+t.alpha+")"}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.prototype=new Component,n.prototype.constructor=n,n.prototype.invert=function(t){var e=this.alpha;return t&&(e=Math.flip(this.alpha,1)),new n({r:Math.flip(this.r,255),g:Math.flip(this.g,255),b:Math.flip(this.b,255),alpha:e})},n.prototype.red=function(){return new n({r:255,g:0,b:0})},n.prototype.green=function(){return new n({r:0,g:255,b:0})},n.prototype.blue=function(){return new n({r:0,g:0,b:255})},n.prototype.black=function(){return new n({r:0,g:0,b:0})},n.prototype.white=function(){return new n({r:255,g:255,b:255})},n.prototype.cyan=function(){return new n({r:0,g:255,b:255})},n.prototype.magenta=function(){return new n({r:255,g:0,b:255})},n.prototype.yellow=function(){return new n({r:255,g:255,b:0})},n.prototype.grey=function(){return new n({r:128,g:128,b:128})},n.prototype.add=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r+t.r,g:this.g+t.g,b:this.b+t.b});case"number":return new n({r:this.r+t,g:this.g+t,b:this.b+t});default:throw TypeError("Argument not a object or a number")}},n.prototype.multiply=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r*t.r,g:this.g*t.g,b:this.b*t.b});case"number":return new n({r:this.r*t,g:this.g*t,b:this.b*t});default:throw TypeError("Argument not a object or a number")}},n.prototype.divide=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r/t.r,g:this.g/t.g,b:this.b/t.b});case"number":return new n({r:this.r/t,g:this.g/t,b:this.b/t});default:throw TypeError("Argument not a object or a number")}},n.prototype.subtract=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Color");return new n({r:this.r-t.r,g:this.g-t.g,b:this.b-t.b});case"number":return new n({r:this.r-t,g:this.g-t,b:this.b-t});default:throw TypeError("Argument not a object or a number")}},n.prototype.equal=function(t){if(!(t instanceof n))throw TypeError("Argument not an instance of Color");return this.r===t.r&&this.g===t.g&&this.b===t.b},n.prototype.lerp=function(t,e,o){if(!(t instanceof n&&e instanceof n))throw TypeError("Argument not an instance of Color");if("number"!=typeof o)throw TypeError("Argument must be a number");return new n(e).subtract(t).multiply(o)},e.exports=n},{}],7:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(Component,this,t),this.__construct(this,t),this.onKeyDown=function(){},this.onKeyUp=function(){},this.keys={},this.__init=function(t){document.addEventListener("keydown",function(t){e.keys[t.keyCode]=!0,e.onKeyDown(t.keyCode)},!1),document.addEventListener("keyup",function(t){e.keys[t.keyCode]=!1,e.onKeyUp(t.keyCode)},!1)}}n.prototype=new Component,n.prototype.constructor=n,n.prototype.Enter=13,n.prototype.Shift=16,n.prototype.Ctrl=17,n.prototype.Esc=27,n.prototype.Left=37,n.prototype.Up=38,n.prototype.Right=39,n.prototype.Down=40,n.prototype.A=65,n.prototype.B=66,n.prototype.C=67,n.prototype.D=68,n.prototype.E=69,n.prototype.F=70,n.prototype.G=71,n.prototype.H=72,n.prototype.I=73,n.prototype.J=74,n.prototype.K=75,n.prototype.L=76,n.prototype.M=77,n.prototype.N=78,n.prototype.O=79,n.prototype.P=80,n.prototype.Q=81,n.prototype.R=82,n.prototype.S=83,n.prototype.T=84,n.prototype.U=85,n.prototype.V=86,n.prototype.W=87,n.prototype.X=88,n.prototype.Y=89,n.prototype.Z=90,e.exports=n},{}],8:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),p=t("./Vector2.js"),c=n(p),u=t("../Class/Component.js"),h=n(u),f=function(t){function e(t){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.__extend(h.default,o,t),o.gravity=new c.default({y:9.81,parent:o}),o.velocity=new c.default({parent:o}),o.__construct(o,t),o}return s(e,t),a(e,[{key:"fixedUpdate",value:function(t){this.addForse(this.gravity.multiply(10*t))}},{key:"addForse",value:function(t){if(!(t instanceof c.default))throw TypeError("Force must be an instance of Vector2");return this.velocity.add(t),this.velocity}}]),e}(h.default);o.default=f},{"../Class/Component.js":2,"./Vector2.js":11}],9:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),p=t("../Class/Component.js"),c=n(p),u=t("../Class/JSGameEngine"),h=(n(u),t("./Color.js")),f=n(h),l=function(t){function e(t){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.__extend(c.default,o,t),o.color=new f.default,o.__construct(o,t),o}return s(e,t),a(e,[{key:"__update",value:function(t){var e=t.ctx;e.shadowBlur=this.blur,e.shadowColor=this.color.toString()}}]),e}(c.default);o.default=l},{"../Class/Component.js":2,"../Class/JSGameEngine":5,"./Color.js":6}],10:[function(t,e,o){"use strict";function n(t){this.rotation=0,this.__extend(Component,this,t),this.position=new Vector2({parent:this}),this.__construct(this,t),this.rotation=this.rotation%360}n.prototype=new Component,n.prototype.constructor=n,n.prototype.translate=function(t){if(!(t instanceof Vector2||t instanceof n))throw TypeError("Vector must be an instance of Vector2 or Transform");if(t instanceof Vector2)return this.position.x+=t.x,this.position.y+=t.y,this.position;this.position.x+=t.position.x,this.position.y+=t.position.y,this.rotation=(this.rotation+t.rotation)%360},n.prototype.add=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.add(t.position),rotation:this.rotation+t.rotation})},n.prototype.multiply=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.multiply(t.position),rotation:this.rotation*t.rotation})},n.prototype.divide=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.divide(t.position),rotation:this.rotation/t.rotation})},n.prototype.subtract=function(t){if(!(t instanceof n))throw TypeError("Object not an instance of Transform");return new n({position:this.position.subtract(t.position),rotation:this.rotation-t.rotation})},n.prototype.equal=function(t){if(!(t instanceof n))throw TypeError("Argument not an instance of Transform");return!(!this.position.equal(t.position)||this.rotation!==t.rotation)},n.prototype.lerp=function(t,e,o){if(!(t instanceof n&&e instanceof n))throw TypeError("Argument not an instance of Transform");if("number"!=typeof o)throw TypeError("Argument must be a number");return new n(e).subtract(t).multiply(o)},e.exports=n},{}],11:[function(t,e,o){"use strict";function n(t){this.__extend(Component,this,t),this.x=0,this.y=0,this.__construct(this,t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.prototype=new Component,n.prototype.constructor=n,n.prototype.up=function(){return new n({x:0,y:-1})},n.prototype.left=function(){return new n({x:-1,y:0})},n.prototype.one=function(){return new n({x:1,y:1})},n.prototype.right=function(){return new n({x:1,y:0})},n.prototype.down=function(){return new n({x:0,y:1})},n.prototype.zero=function(){return new n({x:0,y:0})},n.prototype.add=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x+t.x,y:this.y+t.y});case"number":return new n({x:this.x+t,y:this.y+t});default:throw TypeError("Argument not a object or a number")}},n.prototype.multiply=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x*t.x,y:this.y*t.y});case"number":return new n({x:this.x*t,y:this.y*t});default:throw TypeError("Argument not a object or a number")}},n.prototype.divide=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x/t.x,y:this.y/t.y});case"number":return new n({x:this.x/t,y:this.y/t});default:throw TypeError("Argument not a object or a number")}},n.prototype.subtract=function(t){switch(void 0===t?"undefined":i(t)){case"object":if(!(t instanceof n))throw TypeError("Object not an instance of Vector2");return new n({x:this.x-t.x,y:this.y-t.y});case"number":return new n({x:this.x-t,y:this.y-t});default:throw TypeError("Argument not a object or a number")}},n.prototype.equal=function(t){if(!(t instanceof n))throw TypeError("Argument not an instance of Vector2");return this.x===t.r&&this.y===t.y},n.prototype.lerp=function(t,e,o){if(!(t instanceof n&&e instanceof n))throw TypeError("Argument not an instance of Vector2");if("number"!=typeof o)throw TypeError("Argument must be a number");return o=Math.ceil(1e3*o)/1e3,new n(e).subtract(t).multiply(o)},e.exports=n},{}],12:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(GameObject,this,t),this.file="",this.volume=1,this.__construct(this,t),this.audio=new Audio(this.file),this.play=function(){e.enabled&&e.audio.play()},this.pause=function(){e.enabled&&e.audio.pause()},this.time=0,this.duration=0,this.__init=function(){e.duration=e.audio.duration,e.audio.load(),e.audio.fastSeek(0)},this.__update=function(t){e.audio.src!==e.file&&(e.audio.src=e.file),e.time=e.audio.currentTime,e.duration=e.audio.duration,e.onFixedUpdate(t)},this.__fixedUpdate=function(t){e.onFixedUpdate(t)},delete this.transform,delete this.components,delete this.width,delete this.height,delete this.visible}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],13:[function(t,e,o){"use strict";function n(t){var e=this;this.__extend(GameObject,this,t),this.color=new Color({r:0,g:0,b:0,alpha:0,parent:this}),this.image="",this.imageWidth=0,this.imageHeight=0,this.__construct(this,t);var o,n=new Image,i=!1;this.__update=function(t){var r=t.ctx;e.image!==n.src&&(i=!1,o=void 0,n.onload=function(){e.imageWidth=n.width,e.imageHeight=n.height,i=!0},n.src=e.image),i?(void 0===o&&(o=r.createPattern(n,"repeat")),r.fillStyle=o):e.color.alpha>0&&(r.fillStyle=e.color.toString()),r.fillRect(Math.round(e.transform.position.x),Math.round(e.transform.position.y),Math.round(e.width),Math.round(e.height)),e.onUpdate(t)},this.__init=function(t){n.onload=function(){e.imageWidth=n.width,e.imageHeight=n.height,console.log("loaded"),i=!0},n.src=e.image,e.width=e.width||t.width,e.height=e.height||t.height}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],14:[function(t,e,o){"use strict";function n(t){this.__extend(GameObject,this,t),this.speed=new Vector2,this.radius=1,this.life=1,this.remainingLife=1,this.color=new Color({r:255,g:255,b:255,alpha:1}),this.__construct(this,t),this.remainingLife=this.life}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],15:[function(t,e,o){"use strict";function n(t){function e(t){var e=new Particle({transform:new Transform(o.transform),speed:new Vector2({x:n.x+Math.random()*n.x,y:n.y+Math.random()*n.y}),radius:o.radius+Math.random()*o.radius,life:o.life+Math.random()*o.life,color:new Color({r:Math.round(Math.random()*o.color.r),g:Math.round(Math.random()*o.color.g),b:Math.round(Math.random()*o.color.b)}),parent:o});void 0!==t?o.particles[t]=e:o.particles.push(e)}var o=this;this.__extend(GameObject,this,t),this.count=50,this.speed=new Vector2({x:2,y:2,parent:o}),this.color=new Color({r:255,g:255,b:255,parent:o}),this.loop=!1,this.blendMode="lighter",this.glow=!0,this.life=100,this.radius=10,this.radial=!0,this.particles=[];var n=new Vector2(this.speed),i=this.width,r=this.height;this.__construct(this,t),this.__update=function(t){if(o.radial?(n.x=Math.random()*(2*o.speed.x)-o.speed.x,n.y=Math.random()*(2*o.speed.y)-o.speed.y):(n.x=o.speed.x,n.y=o.speed.y),o.particles.length<o.count)for(var i=0;i<o.count-o.particles.length;i++)e();if(o.particles.length>o.count)for(var i=0;i<o.particles.length-o.count;i++)o.particles.pop();var r=t.ctx;o.blendMode&&(r.globalCompositeOperation=o.blendMode);for(var i=0;i<o.particles.length;i++){var s=o.particles[i];if(r.beginPath(),s.color.alpha=Math.round(s.remainingLife/s.life*o.count)/o.count,"number"!=typeof s.color.alpha||isNaN(s.color.alpha))e(i);else{var a=r.createRadialGradient(s.transform.position.x,s.transform.position.y,0,s.transform.position.x,s.transform.position.y,s.radius);a.addColorStop(0,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),a.addColorStop(.5,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),o.glow?a.addColorStop(1,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", 0)"):a.addColorStop(1,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),r.fillStyle=a,r.arc(Math.round(s.transform.position.x),Math.round(s.transform.position.y),Math.round(s.radius),2*Math.PI,!1),r.fill(),s.remainingLife--,s.radius--,s.transform.position=s.transform.position.add(s.speed),(s.remainingLife<0||s.radius<0)&&(o.loop?e(i):o.particles.splice(i,1))}}o.onUpdate(t)},this.__init=function(t){},this.__fixedUpdate=function(t){o.width!==i&&(o.radius=o.width/2,i=o.width),o.height!==r&&(o.radius=o.height/2,r=o.height),o.width=2*o.radius,o.height=2*o.radius,o.onFixedUpdate(t)}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],16:[function(t,e,o){"use strict";function n(t){function e(){function t(t,e,n,r,s,a){n.save(),n.clearRect(0,0,r.width,r.height),n.scale(s,a),n.drawImage(i,t,e,o.size.x,o.size.y,0,0,r.width*s,r.height*a);var p=new Image;return p.setAttribute("crossOrigin","anonymous"),p.src=r.toDataURL(),n.restore(),p}var e=0,n=document.createElement("canvas");n.width=o.width,n.height=o.height;for(var r=n.getContext("2d"),s=0;s<i.width;s+=o.size.x)for(var a=0;a<i.height;a+=o.size.y)r.save(),o.sprites[e]=[],o.sprites[e].push(t(s,a,r,n,1,1)),o.sprites[e].push(t(s,a,r,n,-1,1)),o.sprites[e].push(t(s,a,r,n,1,-1)),o.sprites[e].push(t(s,a,r,n,-1,-1)),r.restore(),e++;console.log(e+" sprites generated")}var o=this;this.__extend(GameObject,this,t),this.image="",this.flipHorizontal=!1,this.flipVertical=!1,this.index=0,this.size=new Vector2,this.__construct(this,t),this.velocity=new Vector2;var n=this.transform.position;this.sprites=[];var i=new Image;i.setAttribute("crossOrigin","anonymous");var r=!1;this.__update=function(t){if(r){o.index>o.sprites.length-1&&(o.index=0),o.index<0&&(o.index=o.sprites.length-1);var e=0;o.flipHorizontal&&o.flipVertical?e=3:(o.flipHorizontal&&(e=1),o.flipVertical&&(e=2)),o.sprites.length>0&&t.ctx.drawImage(o.sprites[o.index][e],o.transform.position.x,o.transform.position.y)}var i=(this.transform.position.x-n.x)/Time.deltaTime;i<0&&(i=Math.invert(i)),this.velocity.x=Math.round(i);var s=(this.transform.position.y-n.y)/Time.deltaTime;s<0&&(s=Math.invert(s)),this.velocity.y=Math.round(s),n=this.transform.position,o.onUpdate(t)},this.__init=function(t){i.onload=function(){0===o.size.x&&0===o.size.y&&(o.size.x=i.width,o.size.y=i.height),o.width=o.size.x,o.height=o.size.y,e(),r=!0},i.src=o.image}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],17:[function(t,e,o){"use strict";function n(t){function e(t){var e="",n="";o.bold&&(e="bold "),o.italic&&(n="italic "),o.underline,t.fillStyle=o.color.toString(),t.font=e+n+Math.round(o.size)+"px "+o.font}var o=this;this.__extend(GameObject,this,t),this.color=new Color,this.text="",this.font="Helvetica",this.size=20,this.bold=!1,this.italic=!1,this.underline=!1,this.__construct(this,t),this.__update=function(t){var n=t.ctx;e(n),n.fillText(o.text,Math.round(o.transform.position.x),Math.round(o.transform.position.y)),o.onUpdate(t)},this.__init=function(t){o.transform.parent=o,o.transform.position.parent=o.transform,o.color.parent=o},this.__fixedUpdate=function(t){var n=t.ctx;e(n),o.height=o.size,o.width=Math.round(n.measureText(o.text).width),o.onFixedUpdate(t)}}n.prototype=new GameObject,n.prototype.constructor=n,e.exports=n},{}],18:[function(t,e,o){"use strict";Math.flip=function(t,e){return"number"!=typeof t&&"number"!=typeof e?0/0:Math.abs(e-parseInt(t))},Math.randomRange=function(t,e,o){return"number"!=typeof t&&"number"!=typeof e?0/0:o===!0?Math.floor(Math.random()*(e-t)+t):Math.random()*(e-t)+t},Math.invert=function(t){return t*-1},Math.clamp=function(t,e,o){return Math.min(Math.max(t,e),o)},Math.lerp=function(t,e,o){return(e-t)*o},e.exports=Math},{}],19:[function(t,e,o){"use strict";function n(t){return this.__construct(t),this.startupTime=0,this.frameCount=0,this.deltaTime=0,this.fixedDeltaTime=0,this.smoothDeltaTime=0,this.smoothFixedDeltaTime=0,this.maximumDeltaTime=0,this.maximumFixedDeltaTime=0,this.time=this.startupTime,this.fixedTime=this.startupTime,this.lastUpdateTime=this.startupTime,this.lastFixedUpdateTime=this.startupTime,this.fps=0,this}n.prototype=new Constructor(!0),n.prototype.update=function(t){var e=this,t=t||0;t/=1e3,e.time=t,0===e.startupTime&&(e.startupTime=e.time,e.lastUpdateTime=e.startupTime),e.deltaTime=e.time-e.lastUpdateTime,e.deltaTime>e.maximumDeltaTime&&(e.maximumDeltaTime=e.deltaTime),e.smoothDeltaTime=parseFloat(e.deltaTime.toFixed(2)),e.lastUpdateTime=e.time,e.fps=(1/e.deltaTime).toFixed(1),e.frameCount++},n.prototype.fixedUpdate=function(t){var e=this,t=t||0;t/=1e3,e.fixedTime=t,0===e.startupTime&&(e.startupTime=e.fixedTime,e.lastFixedUpdateTime=e.startupTime),e.fixedDeltaTime=e.fixedTime-e.lastFixedUpdateTime,e.fixedDeltaTime>e.maximumFixedDeltaTime&&(e.maximumFixedDeltaTime=e.fixedDeltaTime),e.smoothFixedDeltaTime=parseFloat(e.fixedDeltaTime.toFixed(2)),e.lastFixedUpdateTime=e.fixedTime},n.prototype.framerateToTime=function(t){return 1/t},e.exports=n},{}]},{},[1]);
//# sourceMappingURL=jsgame.min.js.map